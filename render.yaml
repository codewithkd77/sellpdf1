services:
  - type: web
    name: sellpdf-backend
    env: node
    region: singapore  # Change to your preferred region (oregon, frankfurt, singapore, etc.)
    plan: free  # Change to 'starter' or higher for production
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
      - key: JWT_SECRET
        sync: false  # Set manually in Render dashboard
      - key: JWT_EXPIRES_IN
        value: 7d
      - key: DB_HOST
        sync: false  # Set to your Render PostgreSQL internal URL
      - key: DB_PORT
        value: 5432
      - key: DB_NAME
        sync: false
      - key: DB_USER
        sync: false
      - key: DB_PASSWORD
        sync: false
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_ANON_KEY
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false
      - key: SUPABASE_BUCKET
        value: pdfs
      - key: RAZORPAY_KEY_ID
        sync: false
      - key: RAZORPAY_KEY_SECRET
        sync: false
      - key: RAZORPAY_WEBHOOK_SECRET
        sync: false
      - key: PLATFORM_COMMISSION_RATE
        value: 0.10
      - key: ANDROID_PACKAGE_NAME
        value: com.example.sellpdf
      - key: ANDROID_SHA256_CERT_FINGERPRINTS
        sync: false  # Comma-separated SHA256 cert fingerprints for App Links
      - key: IOS_APP_ID
        sync: false  # TEAMID.bundleId for iOS Universal Links (e.g. ABC123XYZ.com.example.sellpdf)

# Optional: If you want Render to manage your PostgreSQL database
# databases:
#   - name: sellpdf-db
#     plan: free  # Change to 'starter' for production
#     region: singapore
